---
title: 06 解剖永不溢出的整数
description: 
published: true
date: 2021-03-10T10:29:27.724Z
tags: python, 源码
editor: markdown
dateCreated: 2021-03-10T09:52:05.682Z
---

# 抛出问题

先来看看下面这个 C 程序(test.c)运行后输出什么？是 1,000,000,000,000 (一万亿) 吗？

```c
#include <stdio.h>

int main(int argc, char *argv[])
{
    int value = 1000000;
    printf("%d\n", value * value);

    return 0;
}
```

结果是溢出，因为上面的 value 是 int 类型，在 64 位 OS 上占用 4 个字节，能表示的整数范围为 -2147483648 至 2147483647 ，一万亿显然超出该范围。

```shell
$ ./a.out
-727379968
```

再来看看下面的 Python 程序运行后的输出是什么？

```python
>>> 1000000 * 1000000
1000000000000
```

甚至可以计算十的一百次方，这在其他语言是不可想象的：

```c
>>> 10 ** 100
10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```

最终的结果是 Python 并没有异常或出错，反而很正常的打印出结果，这是为什么？这就是本次所要解决的问题。

# 解决问题















