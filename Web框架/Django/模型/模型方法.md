---
title: 模型实例方法
description: 
published: true
date: 2021-03-19T08:34:13.995Z
tags: django
editor: markdown
dateCreated: 2021-02-25T09:14:38.140Z
---

# 模型实例方法

> [官方文档](https://docs.djangoproject.com/zh-hans/3.1/ref/models/instances/#model-instance-methods)
{.is-success}


```python
class ModelFunc(models.Model):
    name = models.CharField(max_length=20)
    is_delete = models.BooleanField(default=False)

    def __str__(self):
        # 对象展示为 name，可用在 Admin 后台管理对象显示中
        return self.name

    def get_absolute_url(self):
        # return "/people/%i/" % self.id
        from django.urls import reverse
        return reverse('app01.views.detail', args=[str(self.id)])

    def delete(self, *args, **kwargs):
        # 自定义删除方法
        # 例如：逻辑删除
        print("args:", *args)
        print("kwargs:", **kwargs)
        super().delete(*args, **kwargs)

    def save(self, *args, **kwargs):
        # 自定义保存对象方法
        print("args:", *args)
        print("kwargs:", **kwargs)
        super().save(*args, **kwargs)
```

除了 save()、 delete() 之外，一个模型对象还可能有以下一些方法：

- `Model.get_FOO_display()`

当设置了 choice 的字段，该对象将有一个 `get_FOO_display()` 方法，其中 FOO 是字段的名称。该方法返回 choice 二元组的第二个值。

例如：

```python
from django.db import models

class Person(models.Model):
    Gender = (
        ('S', 'Small'),
        ('M', 'Medium'),
        ('L', 'Large'),
    )
    shirt_size = models.CharField(max_length=2, default='L', choices=SHIRT_SIZES)
    
>>> p = Person(name="Fred Flintstone")
>>> p.save()
>>> p.shirt_size
'L'
>>> p.get_shirt_size_display()
'Large'
```



